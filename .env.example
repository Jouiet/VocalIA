# ═══════════════════════════════════════════════════════════════
# VocalIA - Voice AI Platform Configuration
# ═══════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────
# REQUIRED - AI Providers
# ─────────────────────────────────────────────────────────────────
XAI_API_KEY=                              # Grok API (Primary LLM)
GEMINI_API_KEY=                           # Gemini (Main LLM fallback)
GOOGLE_GENERATIVE_AI_API_KEY=             # Gemini (TTS/RAG fallback — different from GEMINI_API_KEY)
ANTHROPIC_API_KEY=                        # Claude (Fallback LLM)
HUGGINGFACE_API_KEY=                      # Atlas-Chat-9B (Darija LLM Fallback)

# OpenAI (Optional fallback — used by some integrations)
OPENAI_API_KEY=

# ─────────────────────────────────────────────────────────────────
# TTS/STT PROVIDERS - Darija Voice Pipeline
# ─────────────────────────────────────────────────────────────────
# ElevenLabs (RECOMMENDED) - Ghizlane voice for Darija TTS, Scribe for STT
# Get key: https://elevenlabs.io/app/settings/api-keys
# Ghizlane Voice ID: OfGMGmhShO8iL9jCkXy8 (Moroccan Darija)
# Pricing: ~$0.30/1000 chars TTS, ~$0.10/min STT
ELEVENLABS_API_KEY=
ELEVENLABS_USE_GLOBAL=false                # Use global voice pool (true/false)
ELEVENLABS_LATENCY_LEVEL=2                 # Latency optimization (1=lowest, 4=highest quality)

# Lahajati.ai (ALTERNATIVE) - 192+ Arabic dialects, Moroccan Darija support
# Get key: https://lahajati.ai/en (API dashboard after registration)
# Pricing: Free tier 10,000 points/month, then pay-per-character
# Docs: https://lahajati.ai/ar/docs
LAHAJATI_API_KEY=

# Grok Voice model override
GROK_VOICE=                                # Grok voice model name (empty = default)

# ─────────────────────────────────────────────────────────────────
# TELEPHONY - Twilio (Required for PSTN + SMS)
# ─────────────────────────────────────────────────────────────────
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+33XXXXXXXXX
# SMS Pricing: $0.0083/msg US, $0.07/msg FR (fallback if WhatsApp fails)

# ─────────────────────────────────────────────────────────────────
# CRM INTEGRATION - Optional
# ─────────────────────────────────────────────────────────────────
HUBSPOT_API_KEY=                          # HubSpot CRM (legacy key)
HUBSPOT_ACCESS_TOKEN=                     # HubSpot OAuth2 access token (modern — preferred)
KLAVIYO_API_KEY=                          # Klaviyo Email/SMS

# ─────────────────────────────────────────────────────────────────
# E-COMMERCE PLATFORMS - Optional (~64% market coverage)
# ─────────────────────────────────────────────────────────────────
# Shopify (10.32% global, 29% USA)
SHOPIFY_ACCESS_TOKEN=                     # Shopify Admin API access token
SHOPIFY_ADMIN_ACCESS_TOKEN=              # Alias for admin-specific operations
SHOPIFY_SHOP_NAME=your-store              # Store name (e.g. my-store)
SHOPIFY_SHOP=your-store                   # Alias (some modules use this)
SHOPIFY_STORE=your-store                  # Alias (catalog connector)
SHOPIFY_STORE_DOMAIN=your-store.myshopify.com  # Full Shopify domain

# WooCommerce (33-39% global) - woocommerce.ts
WOOCOMMERCE_URL=https://your-store.com    # Store URL
WOOCOMMERCE_CONSUMER_KEY=                 # REST API Consumer Key
WOOCOMMERCE_CONSUMER_SECRET=              # REST API Consumer Secret

# Magento (8% global) - magento.ts
MAGENTO_URL=https://your-store.com        # Magento Store URL
MAGENTO_ACCESS_TOKEN=                     # Integration Access Token

# Wix Stores (7.4% global, 23% USA, +32.6% YoY) - wix.ts
WIX_API_KEY=                              # API Key from Dev Center
WIX_SITE_ID=                              # Site ID
WIX_ACCOUNT_ID=                           # Account ID (optional)

# Squarespace (2.6% global, 16% USA) - squarespace.ts
SQUARESPACE_API_KEY=                      # API Key from Settings

# BigCommerce (1% global, 3% USA, mid-market) - bigcommerce.ts
BIGCOMMERCE_ACCESS_TOKEN=                 # API Access Token
BIGCOMMERCE_STORE_HASH=                   # Store Hash

# PrestaShop (1.91% global, 37% France) - prestashop.ts
PRESTASHOP_URL=https://your-store.com     # PrestaShop Store URL
PRESTASHOP_API_KEY=                       # Webservice API Key

# ─────────────────────────────────────────────────────────────────
# WHATSAPP - Optional
# ─────────────────────────────────────────────────────────────────
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=

# ─────────────────────────────────────────────────────────────────
# BOOKING - Google Apps Script
# ─────────────────────────────────────────────────────────────────
GOOGLE_APPS_SCRIPT_URL=https://script.google.com/macros/s/xxx/exec

# ─────────────────────────────────────────────────────────────────
# HITL CONTROLS (Human-in-the-Loop)
# ─────────────────────────────────────────────────────────────────
HITL_VOICE_ENABLED=true
HITL_APPROVE_HOT_BOOKINGS=true
HITL_APPROVE_TRANSFERS=true
HITL_APPROVE_FINANCIAL_COMPLAINTS=true    # HITL for complaint resolutions with financial commitments
HITL_BOOKING_SCORE_THRESHOLD=70           # 60|70|80|90
HITL_FINANCIAL_KEYWORDS=remboursement,gratuit,offert,compensation,sans frais,rembourse
HITL_SLACK_WEBHOOK=                       # Slack notifications for HITL items
HITL_NOTIFY_ON_PENDING=true              # Notify when new HITL items are pending
HITL_HUBSPOT_ENABLED=false               # Enable HITL for HubSpot deal approvals
HITL_DEAL_VALUE_THRESHOLD=5000           # HubSpot deal value threshold for HITL

# ─────────────────────────────────────────────────────────────────
# SECURITY & AUTH (REQUIRED for production)
# ─────────────────────────────────────────────────────────────────
JWT_SECRET=                               # Random 64+ char string for JWT signing
VOCALIA_VAULT_KEY=                        # Random 32+ char string for credential encryption
VOCALIA_INTERNAL_KEY=                     # Internal service-to-service API key
WEBHOOK_ADMIN_KEY=                        # Admin key for webhook management
VOICE_API_KEY=                            # Voice API authentication key

# ─────────────────────────────────────────────────────────────────
# BILLING (Stripe for EUR/USD, Payzone for MAD)
# ─────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=                        # Stripe secret key (sk_live_...)
PAYZONE_API_KEY=                          # Payzone API key (MAD payments)
PAYZONE_SECRET_KEY=                       # Payzone secret key
PAYZONE_MERCHANT_ID=                      # Payzone merchant ID

# ─────────────────────────────────────────────────────────────────
# EMAIL (SMTP)
# ─────────────────────────────────────────────────────────────────
SMTP_HOST=                                # SMTP server hostname
SMTP_PORT=587                             # SMTP port (587=TLS, 465=SSL)
SMTP_USER=                                # SMTP username
SMTP_PASS=                                # SMTP password
SMTP_FROM=noreply@vocalia.ma              # From email address

# ─────────────────────────────────────────────────────────────────
# ANALYTICS & NOTIFICATIONS
# ─────────────────────────────────────────────────────────────────
GA4_MEASUREMENT_ID=                       # Google Analytics 4 measurement ID
GA4_API_SECRET=                           # GA4 API secret
SLACK_WEBHOOK_URL=                        # Slack notifications webhook
META_PIXEL_ID=                            # Facebook Meta Pixel ID
META_ACCESS_TOKEN=                        # Facebook Meta access token

# ─────────────────────────────────────────────────────────────────
# GOOGLE OAUTH (for Calendar, OAuth Gateway)
# ─────────────────────────────────────────────────────────────────
GOOGLE_CLIENT_ID=                         # Google OAuth client ID
GOOGLE_CLIENT_SECRET=                     # Google OAuth client secret
GOOGLE_REFRESH_TOKEN=                     # Google OAuth refresh token
GOOGLE_REDIRECT_URI=                      # OAuth redirect URI (e.g. https://api.vocalia.ma/oauth/callback)
OAUTH_BASE_URL=https://api.vocalia.ma     # OAuth gateway base URL

# ─────────────────────────────────────────────────────────────────
# VECTOR SEARCH (Marqo — optional, for semantic product search)
# ─────────────────────────────────────────────────────────────────
MARQO_URL=http://localhost:8882           # Marqo vector DB URL
MARQO_API_KEY=                            # Marqo API key (if remote)

# ─────────────────────────────────────────────────────────────────
# VIDEO GENERATION (Remotion — optional)
# ─────────────────────────────────────────────────────────────────
REMOTION_HITL_ENABLED=false               # Enable HITL for video generation
REMOTION_HITL_PORT=3012                   # Remotion HITL server port
STITCH_CONFIG=                            # Video stitch configuration JSON
GCLOUD_PATH=                              # Google Cloud SDK path (for video rendering)
STITCH_QUOTA_PROJECT=                     # GCloud quota project ID

# ─────────────────────────────────────────────────────────────────
# SERVICE PORTS (all have defaults — override if needed)
# ─────────────────────────────────────────────────────────────────
VOICE_API_PORT=3004
VOICE_REALTIME_PORT=3007
VOICE_TELEPHONY_PORT=3009
OAUTH_PORT=3010                           # OAuth gateway port
WEBHOOK_PORT=3011                         # Webhook router port
DB_API_PORT=3013                          # DB API port

# ─────────────────────────────────────────────────────────────────
# INTER-SERVICE URLS (Docker networking — override for non-Docker)
# ─────────────────────────────────────────────────────────────────
VOICE_API_URL=http://localhost:3004       # Voice API internal URL
GROK_REALTIME_URL=http://localhost:3007   # Grok Realtime internal URL
TELEPHONY_URL=http://localhost:3009       # Telephony bridge internal URL

# ─────────────────────────────────────────────────────────────────
# DATA DIRECTORIES (defaults to ./data/ subdirectories)
# ─────────────────────────────────────────────────────────────────
VOICE_DATA_DIR=                           # Voice data directory (default: data/voice/)
HUBSPOT_DATA_DIR=                         # HubSpot data directory (default: data/hubspot/)
ANALYTICS_LOG_DIR=                        # Analytics log directory (default: data/analytics/)

# ─────────────────────────────────────────────────────────────────
# LANGUAGE
# ─────────────────────────────────────────────────────────────────
VOICE_DEFAULT_LANGUAGE=fr                 # fr|en|es|ar|ary

# ─────────────────────────────────────────────────────────────────
# DEBUG & OPS (optional — safe to leave empty)
# ─────────────────────────────────────────────────────────────────
NODE_ENV=production                       # production|development
LOG_LEVEL=info                            # debug|info|warn|error
VERBOSE=false                             # Verbose logging (true/false)
