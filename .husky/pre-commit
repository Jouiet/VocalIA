#!/bin/sh

# VocalIA Pre-commit Hook
# Runs tests and lint checks before allowing commit

echo "ğŸ” Running pre-commit checks..."

# Run tests
echo "ğŸ“‹ Running tests..."
npm test || exit 1

# Check JSON validity
echo "ğŸ“„ Checking JSON files..."
for f in package.json telephony/knowledge_base.json; do
  node -e "JSON.parse(require('fs').readFileSync('$f'))" || exit 1
done

echo "âœ… All pre-commit checks passed!"
