<!-- Google Analytics 4 â€” Stream ID: 13579681217 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KL1QZYZRE8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-KL1QZYZRE8');
</script>

<!-- VocalIA Admin Sidebar Component -->
<!-- Auto-highlights active page based on current URL -->
<aside id="sidebar" class="sidebar fixed top-0 left-0 rtl:left-auto rtl:right-0 h-full bg-[#050505] text-white flex flex-col transition-transform duration-300 z-40">
  <div class="p-4">
    <div class="flex items-center gap-2">
      <img src="/public/images/logo.webp" alt="VocalIA" class="w-9 h-9 rounded-lg object-contain">
      <span class="text-xl font-bold">VocalIA</span>
      <span class="text-xs px-1.5 py-0.5 bg-amber-500 text-amber-900 rounded font-medium">Admin</span>
    </div>
  </div>

  <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
    <a href="index.html" data-page="index" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-white/[0.06] hover:text-white transition-colors">
      <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
      <span data-i18n="admin.nav.dashboard">Dashboard</span>
    </a>
    <a href="tenants.html" data-page="tenants" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-white/[0.06] hover:text-white transition-colors">
      <i data-lucide="building-2" class="w-5 h-5"></i>
      <span data-i18n="admin.nav.tenants">Tenants</span>
    </a>
    <a href="users.html" data-page="users" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-white/[0.06] hover:text-white transition-colors">
      <i data-lucide="users" class="w-5 h-5"></i>
      <span data-i18n="admin.nav.users">Utilisateurs</span>
    </a>
    <a href="logs.html" data-page="logs" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-white/[0.06] hover:text-white transition-colors">
      <i data-lucide="scroll-text" class="w-5 h-5"></i>
      <span data-i18n="admin.nav.logs">Logs</span>
    </a>
    <a href="hitl.html" data-page="hitl" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-white/[0.06] hover:text-white transition-colors">
      <i data-lucide="check-circle" class="w-5 h-5"></i>
      <span data-i18n="admin.nav.hitl">HITL</span>
      <span id="hitl-badge" class="hidden ml-auto text-xs px-1.5 py-0.5 bg-red-500 text-white rounded-full">0</span>
    </a>
    <a href="video-ads.html" data-page="video-ads" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-white/[0.06] hover:text-white transition-colors">
      <i data-lucide="video" class="w-5 h-5"></i>
      <span>Video Studio</span>
    </a>

    <div class="pt-4 mt-4">
      <a href="/app/client/" class="flex items-center gap-3 px-3 py-2 rounded-lg text-zinc-400 hover:bg-white/[0.06] hover:text-white transition-colors">
        <i data-lucide="arrow-left" class="w-5 h-5"></i>
        <span data-i18n="admin.nav.back_client">Retour client</span>
      </a>
    </div>
  </nav>

  <div class="p-4">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center">
        <span id="admin-initials" class="font-medium">--</span>
      </div>
      <div class="flex-1 min-w-0">
        <p id="admin-name" class="text-sm font-medium truncate">Admin</p>
        <p id="admin-email" class="text-xs text-zinc-400 truncate"></p>
      </div>
      <button id="logout-btn" class="p-2 rounded-lg hover:bg-white/[0.06] transition-colors">
        <i data-lucide="log-out" class="w-5 h-5 text-zinc-400"></i>
      </button>
    </div>
  </div>
</aside>

<!-- Mobile sidebar overlay -->
<div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-30 hidden lg:hidden"></div>

<script>
(function() {
  // Auto-highlight active page
  var path = window.location.pathname;
  var page = path.split('/').pop().replace('.html', '') || 'index';
  var links = document.querySelectorAll('.sidebar-link');
  var activeClasses = 'bg-white/[0.08] text-white font-medium';
  var inactiveClasses = 'text-zinc-400 hover:bg-white/[0.06] hover:text-white';

  links.forEach(function(link) {
    if (link.dataset.page === page) {
      inactiveClasses.split(' ').forEach(function(c) { link.classList.remove(c); });
      activeClasses.split(' ').forEach(function(c) { link.classList.add(c); });
    }
  });

  // Mobile sidebar toggle
  var sidebar = document.getElementById('sidebar');
  var overlay = document.getElementById('sidebar-overlay');
  var toggle = document.getElementById('menu-toggle');
  if (toggle && sidebar && overlay) {
    toggle.addEventListener('click', function() {
      sidebar.classList.toggle('open');
      overlay.classList.toggle('hidden');
    });
    overlay.addEventListener('click', function() {
      sidebar.classList.remove('open');
      overlay.classList.add('hidden');
    });
  }

  // Lucide icons in sidebar
  if (window.lucide) window.lucide.createIcons();
})();
</script>
