<!DOCTYPE html>
<html lang="fr" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="status.meta_title">Statut Système - VocalIA</title>
  <meta name="description" content="Statut en temps réel des services VocalIA. Uptime 99.9% garanti." data-i18n-content="status.meta_description">
  <meta name="robots" content="noindex">
  <link rel="icon" href="/public/images/favicon.ico">
  <link rel="stylesheet" href="/public/css/style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <!-- Plausible Analytics (Privacy-First, GDPR Compliant) -->
  <script defer data-domain="vocalia.ma" src="https://plausible.io/js/script.js"></script>
  <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) };</script>
</head>
<body class="bg-gray-950 text-gray-100 min-h-screen">
  <!-- Header -->
  <header class="border-b border-slate-800">
    <div class="max-w-4xl mx-auto px-4 py-4">
      <a href="/" class="flex items-center space-x-2">
        <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-indigo-400 flex items-center justify-center">
          <i data-lucide="mic" class="w-4 h-4 text-white"></i>
        </div>
        <span class="font-semibold text-white">VocalIA</span>
        <span class="text-slate-500">/</span>
        <span class="text-slate-400" data-i18n="status.title">Statut</span>
      </a>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-4 py-12">
    <!-- Global Status -->
    <div class="text-center mb-12">
      <div id="global-status" class="inline-flex items-center gap-3 px-6 py-3 rounded-full bg-emerald-500/10 border border-emerald-500/30 mb-4">
        <span class="relative flex h-3 w-3">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
          <span class="relative inline-flex rounded-full h-3 w-3 bg-emerald-500"></span>
        </span>
        <span class="text-emerald-400 font-semibold" data-i18n="status.all_operational">Tous les systèmes opérationnels</span>
      </div>
      <p class="text-slate-500 text-sm" data-i18n="status.last_update">Dernière mise à jour: il y a quelques secondes</p>
    </div>

    <!-- Services List -->
    <section class="mb-12">
      <h2 class="text-lg font-semibold text-white mb-6" data-i18n="status.services_title">Services</h2>
      <div class="space-y-3">
        <!-- Voice API -->
        <div class="flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-slate-800">
          <div class="flex items-center gap-3">
            <i data-lucide="cpu" class="w-5 h-5 text-indigo-400"></i>
            <div>
              <div class="font-medium text-white">Voice API</div>
              <div class="text-sm text-slate-500">api.vocalia.ma</div>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-emerald-400 text-sm" data-i18n="status.operational">Opérationnel</span>
            <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
          </div>
        </div>

        <!-- Voice Widget -->
        <div class="flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-slate-800">
          <div class="flex items-center gap-3">
            <i data-lucide="message-square" class="w-5 h-5 text-indigo-400"></i>
            <div>
              <div class="font-medium text-white">Voice Widget</div>
              <div class="text-sm text-slate-500">widget.vocalia.ma</div>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-emerald-400 text-sm" data-i18n="status.operational">Opérationnel</span>
            <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
          </div>
        </div>

        <!-- Telephony Bridge -->
        <div class="flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-slate-800">
          <div class="flex items-center gap-3">
            <i data-lucide="phone" class="w-5 h-5 text-indigo-400"></i>
            <div>
              <div class="font-medium text-white">Telephony Bridge</div>
              <div class="text-sm text-slate-500">telephony.vocalia.ma</div>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-emerald-400 text-sm" data-i18n="status.operational">Opérationnel</span>
            <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
          </div>
        </div>

        <!-- Dashboard -->
        <div class="flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-slate-800">
          <div class="flex items-center gap-3">
            <i data-lucide="layout-dashboard" class="w-5 h-5 text-indigo-400"></i>
            <div>
              <div class="font-medium text-white">Dashboard</div>
              <div class="text-sm text-slate-500">dashboard.vocalia.ma</div>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-emerald-400 text-sm" data-i18n="status.operational">Opérationnel</span>
            <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
          </div>
        </div>

        <!-- MCP Server -->
        <div class="flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-slate-800">
          <div class="flex items-center gap-3">
            <i data-lucide="server" class="w-5 h-5 text-indigo-400"></i>
            <div>
              <div class="font-medium text-white">MCP Server</div>
              <div class="text-sm text-slate-500">178 tools disponibles</div>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-emerald-400 text-sm" data-i18n="status.operational">Opérationnel</span>
            <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
          </div>
        </div>
      </div>
    </section>

    <!-- Uptime History -->
    <section class="mb-12">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-lg font-semibold text-white" data-i18n="status.uptime_title">Historique Uptime</h2>
        <span class="text-sm text-slate-500" data-i18n="status.last_90_days">90 derniers jours</span>
      </div>
      <div class="bg-slate-900/50 rounded-lg border border-slate-800 p-4">
        <!-- Uptime bar -->
        <div class="flex gap-0.5 mb-4">
          <!-- Generate 90 days of uptime (green = up, yellow = partial, red = down) -->
          <script>
            for(let i = 0; i < 90; i++) {
              document.write('<div class="flex-1 h-8 rounded-sm bg-emerald-500/80 hover:bg-emerald-400 transition" title="' + (90-i) + ' jours"></div>');
            }
          </script>
        </div>
        <div class="flex items-center justify-between text-sm text-slate-500">
          <span data-i18n="status.90_days_ago">90 jours</span>
          <div class="flex items-center gap-4">
            <div class="flex items-center gap-1">
              <span class="w-2 h-2 rounded bg-emerald-500"></span>
              <span data-i18n="status.operational">Opérationnel</span>
            </div>
            <div class="flex items-center gap-1">
              <span class="w-2 h-2 rounded bg-amber-500"></span>
              <span data-i18n="status.partial">Dégradé</span>
            </div>
            <div class="flex items-center gap-1">
              <span class="w-2 h-2 rounded bg-red-500"></span>
              <span data-i18n="status.outage">Panne</span>
            </div>
          </div>
          <span data-i18n="status.today">Aujourd'hui</span>
        </div>
      </div>
    </section>

    <!-- Metrics -->
    <section class="mb-12">
      <h2 class="text-lg font-semibold text-white mb-6" data-i18n="status.metrics_title">Métriques</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div class="bg-slate-900/50 rounded-lg border border-slate-800 p-4 text-center">
          <div class="text-3xl font-bold text-white mb-1">99.98%</div>
          <div class="text-sm text-slate-500" data-i18n="status.uptime_30d">Uptime 30 jours</div>
        </div>
        <div class="bg-slate-900/50 rounded-lg border border-slate-800 p-4 text-center">
          <div class="text-3xl font-bold text-white mb-1">&lt;150ms</div>
          <div class="text-sm text-slate-500" data-i18n="status.avg_response">Latence moyenne</div>
        </div>
        <div class="bg-slate-900/50 rounded-lg border border-slate-800 p-4 text-center">
          <div class="text-3xl font-bold text-white mb-1">0</div>
          <div class="text-sm text-slate-500" data-i18n="status.incidents_30d">Incidents 30 jours</div>
        </div>
      </div>
    </section>

    <!-- Recent Incidents -->
    <section>
      <h2 class="text-lg font-semibold text-white mb-6" data-i18n="status.incidents_title">Incidents Récents</h2>
      <div class="bg-slate-900/50 rounded-lg border border-slate-800 p-8 text-center">
        <i data-lucide="check-circle" class="w-12 h-12 text-emerald-500 mx-auto mb-4"></i>
        <p class="text-slate-400" data-i18n="status.no_incidents">Aucun incident ces 30 derniers jours.</p>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="border-t border-slate-800 mt-12">
    <div class="max-w-4xl mx-auto px-4 py-6 flex flex-col sm:flex-row items-center justify-between gap-4">
      <p class="text-sm text-slate-500">© 2026 VocalIA. <span data-i18n="status.all_rights">Tous droits réservés.</span></p>
      <div class="flex items-center gap-6 text-sm text-slate-500">
        <a href="/contact" class="hover:text-white transition" data-i18n="status.contact_support">Contacter le support</a>
        <a href="https://x.com/vocalia_ma" class="hover:text-white transition">@vocalia_ma</a>
      </div>
    </div>
  </footer>

  <script>
    lucide.createIcons();
  </script>
  <script src="/src/lib/i18n.js"></script>
</body>
</html>
