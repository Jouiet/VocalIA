<!--
  VocalIA Voice Assistant — Google Tag Manager Integration
  ========================================================
  Version: 1.0.0

  This works with ANY website that has GTM installed.
  Covers: custom sites, Angular, Vue, Next.js, Gatsby, Hugo, Jekyll, etc.

  INSTALLATION:
  1. Open Google Tag Manager → your container
  2. Create a new Tag:
     - Tag Type: Custom HTML
     - HTML: paste the code below
  3. Trigger: All Pages (Page View)
  4. Save → Submit → Publish

  ADVANCED — Fire only on specific pages:
  Use a Page Path trigger (e.g., /shop/* for e-commerce pages only)

  IMPORTANT: Add your domain to Allowed Origins in VocalIA dashboard.
-->

<!-- VocalIA Voice Assistant — GTM Tag -->
<script>
(function() {
  // === CONFIGURATION ===
  var TENANT_ID = 'YOUR_TENANT_ID';
  var WIDGET_TYPE = 'b2b'; // 'b2b' or 'ecommerce'
  // === END CONFIG ===

  var file = WIDGET_TYPE === 'ecommerce'
    ? 'voice-widget-ecommerce.js'
    : 'voice-widget-b2b.js';

  // SRI hashes — auto-updated by build-widgets.cjs
  var SRI = {
    'voice-widget-ecommerce.js': 'sha384-IS/hVYvfFRdc59Gec4Yszm8TlUctq1dScFrxRJo50FVftCcfXdKbUOOVJwnx9qq3',
    'voice-widget-b2b.js': 'sha384-kAb/ZXzAasi/oaJ9sKFcnUt8Ott4+DWvMTGbF8OxtbWdVkPUZ6Pf6q1Vu2MGBkoB'
  };

  var s = document.createElement('script');
  s.src = 'https://vocalia.ma/voice-assistant/' + file;
  s.defer = true;
  s.setAttribute('data-vocalia-tenant', TENANT_ID);
  if (SRI[file]) { s.integrity = SRI[file]; s.crossOrigin = 'anonymous'; }
  document.body.appendChild(s);
})();
</script>
